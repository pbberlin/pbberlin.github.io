[Home](README.md)

# Projects up to 2019

## [mongo-stress](https://github.com/pbberlin/mongo-stress) (2014)

* Large cloud setup to investigate the scaling of [MongoDB](https://www.mongodb.com) clusters  
under various types of loads for [Idealo Internet Ltd](https://www.idealo.de/)

* Cluster of three [MongoDB](https://www.mongodb.com) nodes

* Four MongoDB clients, performing inserts, updates and deletes

* All operations summarized in [highcharts webbrowser](https://www.highcharts.com/) view

* First use of [golang](https://golang.org/) for synchronizing lots of parallel data streams  
via `channels` and `for` &#8230; `select` &#8230; loops

* Insertion performance using monotonically increasing IDs versus GUIDs

* Result 1: MongoDB scales linearly for GUID based insertions,  
because those are equally distributed across nodes.  
Monotonically increasing IDs dont scale.  

* Result 2: No re-balancing of sparse/emptied `chunks`  
between nodes, possibly not implemented then  
=> skewed load when monotonically increasing IDs are deleted after a while

* Result 3: Fitting the `hot set` into memory for each node dominates perfomance;  
and so are the Linux hard disk flushing settings

* Result 4: Good luck with restoring your cluster once its broken

* Result 5: GUIDs are partly based on the client's MAC address;  
watch out for skewered loads...

## MySQL master-master cluster (2015)

* Another go at improving the huge  
master-slave database systems at [Idealo Internet Ltd](https://www.idealo.de/)

* Trying a [master-master clustering system](https://www.percona.com/software/mysql-database/percona-xtradb-cluster):  
`Percona Galera XtraDB cluster`

* Using [HaProxy](https://www.haproxy.org/) as load balancer

* [Setup and config guide](./percona-galera-cluster-config/percona-galera-cluster-config.pdf) - partly in German

* Result 1: Automatic failover traded in for reduced write performance

* Result 2: `rejoining` a broken node is cumbersome

---

[Home](README.md)
